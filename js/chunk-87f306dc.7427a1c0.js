(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87f306dc"],{"18a1":function(t,e,o){},1965:function(t,e,o){"use strict";var a=o("47b3"),i=o.n(a);i.a},"47b3":function(t,e,o){},"5c1c":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"trombi"},[o("IdCardCollection",{attrs:{msg:"rocking it"}})],1)},i=[],n=o("9ab4"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"stat",attrs:{id:"card-collection"}},[t.loading?o("Loader"):t._e(),t.loading?o("div",{staticClass:"loading"},[t._v("Loading...")]):t._e(),t.error?o("div",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t.stat?o("div",{staticClass:"content"},[o("ul",{attrs:{id:"example-1"}},t._l(t.stat,(function(t){return o("li",{key:t.id},[o("IdCard",{staticClass:"zoomTarget idcard",attrs:{"data-targetsize":"0.65","data-duration":"600",id:t.id,"display-name":t.displayName,photo:t.picture,tags:t.skills_ellipsis}})],1)})),0)]):t._e()],1)},r=[],l=o("60a3"),u=o("555f"),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card"},[o("header",[o("h1",[t._v(t._s(t.displayName))])]),o("article",[o("img",{attrs:{alt:"Picture",id:"thumb",src:t.photo}}),t._l(t.tags,(function(e){return o("h2",{key:e},[t._v(t._s(e))])}))],2)])},c=[],g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n["b"](e,t),n["a"]([Object(l["b"])(String)],e.prototype,"displayName",void 0),n["a"]([Object(l["b"])(String)],e.prototype,"photo",void 0),n["a"]([Object(l["b"])({default:[]})],e.prototype,"tags",void 0),e=n["a"]([l["a"]],e),e}(l["c"]),p=g,h=p,b=(o("9aa1"),o("2877")),f=Object(b["a"])(h,d,c,!1,null,"6910a061",null),m=f.exports,v=o("30dc"),w=o("cd49"),$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!1,e.stat=null,e.error=null,e.lastElement=void 0,e.handle=0,e}return n["b"](e,t),e.prototype.mounted=function(){window.$.fn.random=function(){var t=Math.floor(Math.random()*this.length);return window.$(this[t])},this.loadDataAndRegisterBrowsing(this.$route.params.id),this.loadData(this.$route.params.id)},e.prototype.loadDataAndRegisterBrowsing=function(t){this.loadData(t),this.registerAutobrowse()},e.prototype.onRouteChanged=function(t){this.$log.debug("route changed"),this.loadData(t)},e.prototype.onAutoBrowseChanged=function(t){this.registerAutobrowse()},e.prototype.loadData=function(t){var e=this;this.$log.debug("Loading data for tag ",t),this.error=null,this.loading=!0;var o=w["VUE_APP_PROX"]+"/api/core/v3/search/people?sort=updatedDesc&fields=id,type,thumbnailUrl,displayName,photos,tags&filter=tag("+t+")&filter=search%28%2A%29&origin=spotlight&startIndex=0&count=100",a={};v["get"](o,{headers:a},(function(o,a,i){if(e.loading=!1,o)e.$log.error("Can't retrieve data"),e.$log.error(o),e.error=o,e.loading=!1;else{var n=JSON.parse(i).list;n.forEach((function(o){o.photos?o.picture=o.photos[0].value:o.picture="https://vignette.wikia.nocookie.net/leon-smallwood/images/e/e2/UNKNOWN_PERSON.png/revision/latest?cb=20150903003647",o.skills=o.tags.filter((function(e){return e!==t})).slice(0,4),o.tags.length>5?(e.$log.debug("adding .... on skills"),o.skills.push("...")):o.skills&&0===o.skills.length&&(e.$log.debug("adding ??? on skills"),o.skills.push("???")),o.skills_ellipsis=o.skills.map((function(t){return t.length>24?t=t.substring(0,21)+"...":t})),e.$log.debug("skills: ",o.skills_ellipsis)})),e.stat=n,e.$log.debug("content retrieved: ",e.stat)}}))},e.prototype.updated=function(){this.$nextTick((function(){window.$(".zoomTarget").zoomTarget()}))},e.prototype.registerAutobrowse=function(){var t=this;this.handle&&(this.$log.debug("autobrowse - clearing last autobrowse"),clearInterval(this.handle)),this.$route.query.autobrowse&&"false"!==this.$route.query.autobrowse&&(this.$log.debug("autobrowse - registering auto browse"),this.handle=setInterval((function(){if(t.lastElement)t.$log.debug("autobrowse - handling unzoom, last element: ",t.lastElement),window.$("#card-collection").click(),t.lastElement=void 0;else{t.$log.debug("autobrowse - zooming on random element");var e=window.$(".idcard").random();t.$log.debug("autobrowse",e),e.click(),t.lastElement=e}}),5e3))},n["a"]([Object(l["d"])("$route.params.id")],e.prototype,"onRouteChanged",null),n["a"]([Object(l["d"])("$route.query.autobrowse")],e.prototype,"onAutoBrowseChanged",null),e=n["a"]([Object(l["a"])({components:{Loader:u["a"],IdCard:m}})],e),e}(l["c"]),y=$,_=y,k=(o("1965"),Object(b["a"])(_,s,r,!1,null,"4a537b22",null)),C=k.exports,O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n["b"](e,t),e=n["a"]([Object(l["a"])({components:{IdCardCollection:C}})],e),e}(l["c"]),E=O,j=E,A=Object(b["a"])(j,a,i,!1,null,null,null);e["default"]=A.exports},"9aa1":function(t,e,o){"use strict";var a=o("18a1"),i=o.n(a);i.a}}]);
//# sourceMappingURL=chunk-87f306dc.7427a1c0.js.map